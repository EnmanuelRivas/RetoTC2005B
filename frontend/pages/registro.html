<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mawi | Registro</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../styles/login.css" />
  <style>
    .profile-img-container {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      margin: 0 auto;
      background-color: #444;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      position: relative;
      cursor: pointer;
    }

    .profile-img-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .profile-img-container .overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .profile-img-container:hover .overlay {
      opacity: 1;
    }

    #profileImgInput {
      display: none;
    }
  </style>
</head>
<body class="dark-mode">

<div class="right-panel">
  <div class="multi-step-form">
    <form id="registroForm" enctype="multipart/form-data">
      <!-- Paso 1: Registro básico -->
      <div class="step active" id="step-1">
        <div class="form-box">
          <h2>Crear cuenta</h2>
          <div class="mb-3">
            <label class="form-label form-label-compact">Nombre</label>
            <input type="text" class="form-control" id="nombre-usuario" name="nombre" placeholder="Escribe tu nombre" required>
          </div>
          <div class="mb-3">
            <label class="form-label form-label-compact">Apellidos</label>
            <input type="text" class="form-control" id="apellidos-usuario" name="apellidos" placeholder="Escribe tus apellidos" required>
          </div>
          <div class="mb-3">
            <label class="form-label form-label-compact">Correo</label>
            <input type="email" class="form-control" id="correo-usuario" name="correo" placeholder="Escribe tu correo" required>
          </div>
          <div class="mb-3">
            <label class="form-label form-label-compact">Contraseña</label>
            <input type="password" class="form-control" id="contraseña-usuario" name="contrasena" placeholder="Escribe una contraseña" required>
          </div>
          <button type="button" class="btn btn-green w-100 next-btn" data-next="2">Siguiente →</button>
          <p class="text-small mt-3"><a href="#" class="text-link">¿Necesitas ayuda? Contacta con nosotros</a></p>
          <p class="text-small mt-2"> <a href="/awaq/login" class="text-link">¿Ya tienes cuenta? Iniciar sesión</a></p>
        </div>
      </div>

      <!-- Paso 2: Subir imagen -->
      <div class="step" id="step-2">
        <div class="form-box text-center">
          <h2>Tu imagen de perfil</h2>
          <div class="mb-3 my-4">
            <label for="profileImgInput" class="profile-img-container">
              <div id="profileImgPreview">
                <i class="bi bi-plus" style="font-size: 48px; color: #ccc;"></i>
              </div>
              <div class="overlay">
                <span class="text-white">Cambiar foto</span>
              </div>
              <input type="file" id="profileImgInput" name="profileImg" accept="image/*">
            </label>
            <p class="mt-3 text-muted">Haz clic para seleccionar una imagen de perfil</p>
          </div>
          <div class="d-flex justify-content-between gap-2">
            <button type="button" class="btn btn-back w-50 prev-btn" data-prev="1">← Atrás</button>
            <button type="button" class="btn btn-green w-50 next-btn" data-next="3">Siguiente →</button>
          </div>
          <p class="text-small mt-3"><a href="#" class="text-link">¿Necesitas ayuda? Contacta con nosotros</a></p>
        </div>
      </div>

      <!-- Paso 3: Ubicación -->	
      <div class="step" id="step-3">
        <div class="form-box">
          <h2>¿De dónde eres?</h2>
          <div class="mb-3">
            <label class="form-label form-label-compact">País</label>
            <input type="text" class="form-control" name="pais" placeholder="Escribe el nombre de tu país" required>
          </div>
          <div class="mb-3">
            <label class="form-label form-label-compact">Número telefónico</label>
            <input type="text" class="form-control" name="numeroTelefono" placeholder="Escribe tu número" required>
          </div>
          <div class="mb-3">
            <label class="form-label form-label-compact">Región / Provincia</label>
            <input type="text" class="form-control" name="provincia" placeholder="Nombre de la región" required>
          </div>
          <div class="mb-3">
            <label class="form-label form-label-compact">Ciudad</label>
            <input type="text" class="form-control" name="ciudad" placeholder="Ciudad" required>
          </div>
          <div class="d-flex justify-content-between gap-2">
            <button type="button" class="btn btn-back w-50 prev-btn" data-prev="2">← Atrás</button>
            <button type="button" id="next-btn" class="btn btn-green w-50 next-btn" data-next="4">Siguiente →</button>
          </div>
        </div>
      </div>

      <!-- Paso 4: Organización -->
      <div class="step" id="step-4">
        <div class="form-box">
          <h2>¿Con quién trabajas?</h2>
          <div class="mb-3">
            <label class="form-label form-label-compact">Organización</label>
            <input type="text" class="form-control" name="organizacion" placeholder="Nombre de la organización" required>
          </div>
          <div class="mb-3">
            <label class="form-label form-label-compact">Descripción</label>
            <textarea class="form-control" name="descripcion" rows="3" placeholder="Breve descripción (máx. 200 palabras)" required></textarea>
          </div>
          <div class="d-flex justify-content-between gap-2">
            <button type="button" class="btn btn-back w-50 prev-btn" data-prev="3">← Atrás</button>
            <button type="button" id="submitBtn" class="btn btn-green w-50">Guardar</button>
          </div>
        </div>
      </div>

      <!-- Paso 5: Confirmación -->
      <div class="step" id="step-5">
        <div class="form-box text-center">
          <h2>¡Ya tienes tu cuenta en Mawi!</h2>
          <div class="d-flex justify-content-center mt-4 gap-2">
            <button type="button" class="btn btn-back prev-btn" data-prev="4">← Atrás</button>
            <a href="/awaq/home" class="btn btn-green" id="goToHomeBtn">Comenzar</a>
          </div>
        </div>
      </div>
    </form>
  </div>
</div>

<script src="../scripts/register.js"></script>
<script src="../scripts/auth.js"></script>
</body>
</html>
